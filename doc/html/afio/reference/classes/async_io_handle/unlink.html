<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>unlink</title>
<link rel="stylesheet" href="../../../../../../libs/afio/doc/html/myboostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="../../../../afio.html" title="Chapter&#160;1.&#160;Boost.AFIO 1.30">
<link rel="up" href="../async_io_handle.html" title="async_io_handle">
<link rel="prev" href="link.html" title="link">
<link rel="next" href="atomic_relink.html" title="atomic_relink">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../../boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="link.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../async_io_handle.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../afio.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="atomic_relink.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="afio.reference.classes.async_io_handle.unlink"></a><a class="link" href="unlink.html" title="unlink">unlink</a>
</h5></div></div></div>
<p>
            <a class="indexterm" name="idp35311360"></a>
Unlinks the file from its present location as determined by path(true),
            which could be any hard link on those operating systems with an unstable
            path(true). Other links may remain to the same file.
          </p>
<h6>
<a name="afio.reference.classes.async_io_handle.unlink.h0"></a>
            <span><a name="afio.reference.classes.async_io_handle.unlink.description"></a></span><a class="link" href="unlink.html#afio.reference.classes.async_io_handle.unlink.description">Description</a>
          </h6>
<p>
            On Microsoft Windows, this routine unlinks items as follows:
          </p>
<p>
            The reason for such complexity is that this algorithm, if it renames
            successfully, neatly works around a number of annoying features in Windows,
            specifically that when you delete a file you actually don't delete it
            till an unknown amount of time later. This breaks code which tries to
            delete a directory tree, and finds that the directories won't delete
            because they still contain files supposedly deleted but actually not
            quite yet. By renaming the items as far away as possible, this problem
            ought to go away - unless of course that the user does not have permissions
            to write into any directory other than the one being eventually deleted,
            in which case you will still see the strange access denied and directory
            not empty errors from before.
          </p>
<p>
            Be aware that on Windows AFIO operates exclusively in the NT kernel namespace,
            NOT the Win32 namespace, and therefore paths you supply are converted
            by <code class="literal"><code class="computeroutput"><span class="identifier">afio</span><span class="special">::</span><span class="identifier">path</span></code></code> in NT kernel namespace
            paths. <code class="literal"><code class="computeroutput"><span class="identifier">normalise_path</span><span class="special">()</span></code></code> can convert an afio path
            back to a Filesystem TS path for you, but note that this may not be the
            path that was supplied originally. NT kernel namespace paths have a 32,767
            character limit and an almost POSIX like lack of restrictions on naming
            or historical behaviour quirks, but as a result AFIO does not support
            DOS short names or any of the other historical Win32 filing system baggage.
          </p>
<h6>
<a name="afio.reference.classes.async_io_handle.unlink.h1"></a>
            <span><a name="afio.reference.classes.async_io_handle.unlink.synopsis"></a></span><a class="link" href="unlink.html#afio.reference.classes.async_io_handle.unlink.synopsis">Synopsis</a>
          </h6>
<pre class="programlisting"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="identifier">async_io_handle</span><span class="special">::</span><span class="identifier">unlink</span><span class="special">()</span></pre>
<h6>
<a name="afio.reference.classes.async_io_handle.unlink.h2"></a>
            <span><a name="afio.reference.classes.async_io_handle.unlink.parameters"></a></span><a class="link" href="unlink.html#afio.reference.classes.async_io_handle.unlink.parameters">Parameters</a>
          </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody><tr>
<td>
                    <p>
                      Type
                    </p>
                  </td>
<td>
                    <p>
                      Concept
                    </p>
                  </td>
<td>
                    <p>
                      Name
                    </p>
                  </td>
<td>
                    <p>
                      Description
                    </p>
                  </td>
</tr></tbody>
</table></div>
<h6>
<a name="afio.reference.classes.async_io_handle.unlink.h3"></a>
            <span><a name="afio.reference.classes.async_io_handle.unlink.header"></a></span><a class="link" href="unlink.html#afio.reference.classes.async_io_handle.unlink.header">Header</a>
          </h6>
<p>
            <code class="computeroutput"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">afio</span><span class="special">/</span><span class="identifier">afio</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
          </p>
<h6>
<a name="afio.reference.classes.async_io_handle.unlink.h4"></a>
            <span><a name="afio.reference.classes.async_io_handle.unlink.race_guarantees"></a></span><a class="link" href="unlink.html#afio.reference.classes.async_io_handle.unlink.race_guarantees">Race
            Guarantees</a>
          </h6>
<p>
            </p>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Operating system</th>
<th>Race guarantees under a changing file system</th>
</tr></thead>
<tbody>
<tr>
<td>FreeBSD, Linux</td>
<td>Race free up to the containing directory.</td>
</tr>
<tr>
<td>Windows</td>
<td>Race free
            if handle open, else up to the containing directory.</td>
</tr>
<tr>
<td>OS X</td>
<td>No guarantees.</td>
</tr>
</tbody>
</table></div>
<p>
          </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2013-2015 Niall Douglas
      and Paul Kirth<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="link.html"><img src="../../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../async_io_handle.html"><img src="../../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../../../afio.html"><img src="../../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="atomic_relink.html"><img src="../../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
